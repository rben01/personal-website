<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>When It Comes to Ditching Python, Now is Better than Never :: Robert Bennett</title>
    <link rel="canonical" href="https://rltb.me/blog/python-is-bad">
    <meta name="description" content="Why I've given up on Python">
    <meta name="generator" content="Antora 3.1.2">
<link rel="stylesheet" href="../_/css/site.css" />
<link rel="stylesheet" href="https://use.typekit.net/fnd4xvj.css" />
<script>var uiRootPath = '../_';</script>
<link rel="icon" type="image/x-icon" href="../_/favicon.ico">
<link rel="apple-touch-icon" sizes="180x180" href="../_/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../_/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../_/favicon-16x16.png">
</head>

<body class="article">
  <header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://rltb.me">Robert Bennett</a>
        <div class="navbar-item search hide-for-print">
          <div id="search-field" class="field">
            <input id="search-input" type="text" placeholder="Search this site">
          </div>
        </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
      </div>
    </div>
  </nav>
</header>
  <div class="body">
	<div class="nav-container"  data-component="blog"
  data-version="" >
  <aside class="nav">
    <div class="panels">
            <div class="nav-panel-explore is-active" data-panel="explore">
    <div class="context">
      <span class="title">Blog</span>
      <span class="version">default</span>
    </div>
  <ul class="components">
      <li class="component is-current">
        <a class="title" href="./">Blog</a>
        <ul class="versions">
            <li class="version is-current is-latest">
              <a href="./">default</a>
            </li>
        </ul>
      </li>
      <li class="component">
        <a class="title" href="../home/">Home</a>
        <ul class="versions">
            <li class="version is-latest">
              <a href="../home/">default</a>
            </li>
        </ul>
      </li>
      <li class="component">
        <a class="title" href="../projects/">Projects</a>
        <ul class="versions">
            <li class="version is-latest">
              <a href="../projects/">default</a>
            </li>
        </ul>
      </li>
  </ul>
</div>
    </div>
  </aside>
</div>
	<main class="article">
  <div class="toolbar" role="navigation">
  <button class="nav-toggle"></button>
  <nav class="breadcrumbs" aria-label="breadcrumbs">
</nav>
  </div>
  <div class="content">
      <aside class="toc sidebar" data-title="Contents"
  data-levels="2">
  <div class="toc-menu"></div>
</aside>
      <article class="doc">
		<h1 class="page">When It Comes to Ditching Python, Now is Better than Never</h1>
	<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_pythons_popularity">Python&#8217;s Popularity</a></li>
<li><a href="#_what_python_does_right">What Python Does Right</a>
<ul class="sectlevel2">
<li><a href="#_abstraction">Abstraction</a></li>
<li><a href="#_package_ecosystem">Package ecosystem</a></li>
<li><a href="#_huge_community_and_wide_support">Huge community and wide support</a></li>
<li><a href="#_its_interpreted_and_has_a_repl">It&#8217;s interpreted and has a REPL</a></li>
</ul>
</li>
<li><a href="#_what_python_does_wrong">What Python Does Wrong</a>
<ul class="sectlevel2">
<li><a href="#_package_management">Package management</a></li>
<li><a href="#_python_breaks_its_own_rules">Python breaks its own rules.</a></li>
</ul>
</li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph lead">
<p>And never is <em>not</em> better than right now.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_pythons_popularity"><a class="anchor" href="#_pythons_popularity"></a>Python&#8217;s Popularity</h2>
<div class="sectionbody">
<div class="paragraph">
<p>While I will do my best to never use Python in another project of mine, there&#8217;s no doubt that it is generally well liked.
In <a href="https://insights.stackoverflow.com/survey/2020#technology">Stack Overflow&#8217;s 2020 Developer Survey</a>, Python was the #4 most popular language/technology among all developers, a remarkable feat for a language that has zero presence on the web (the top three languages/technologies were JavaScript, HTML/CSS, and SQL).
In addition, Python was the #3 most &#8220;loved&#8221; language (developers who are using it wish to continue to do so) and the #1 most &#8220;wanted&#8221; language (developers who are not yet using it wish to start).
For Python to be so popular, it clearly must have gotten a lot right.</p>
</div>
<div class="paragraph">
<p>This article discusses why I aim to never use Python again; despite everything right with Python, there is too much wrong with it to continue using it.
It&#8217;s not that Python has gotten worse (with the exception of <a href="https://www.python.org/dev/peps/pep-0635/">PEP 635&#8201;&#8212;&#8201;Structural Pattern Matching</a>, an unmitigated disaster), but that the universe of other languages has gotten better while Python has stood still.
In light of this, the first key result from that survey&#8201;&#8212;&#8201;&#8220;After a consistent rise over the last five years, Python fell from second last year to third this year on the list of most loved technologies&#8230;&#8203;&#8221;&#8201;&#8212;&#8201;is not surprising.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_python_does_right"><a class="anchor" href="#_what_python_does_right"></a>What Python Does Right</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Even though it declined in popularity last year, Python is still massively popular.
It&#8217;s not hard to find praise for Python online, but I&#8217;ll summarize what I think are its greatest strengths here.</p>
</div>
<div class="sect2">
<h3 id="_abstraction"><a class="anchor" href="#_abstraction"></a>Abstraction</h3>
<div class="paragraph">
<p>Python operates at a level of abstraction that allows programmers to focus on the problem at hand while ignoring the implementation details of both computers and Python itself.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Python is <a href="https://en.wikipedia.org/wiki/Garbage_collection_(computer_science)">garbage collected</a> and handles memory management for you.</p>
</li>
<li>
<p>Everything, including functions and types, is an object and can be referenced and passed around freely.
The <code>obj.attr</code> syntax is how you access <em>anything&#8217;s</em> attribute, regardless of what kind of object <code>obj</code> actually is.
For instance, you don&#8217;t need to use <code>obj::attr</code> in the event that <code>obj</code> is a type, namespace, module, etc.</p>
</li>
<li>
<p>Iteration &#8220;just works&#8221;.
(I think this was a bigger deal in the early 1990&#8217;s when Python was first released; now we take simple iteration for granted.
But I wouldn&#8217;t be surprised if that&#8217;s because Python showed that there was a right way to do it, which everyone subsequently copied.)</p>
</li>
<li>
<p>Importing packages &#8220;just works&#8221; and the imported module acts like any other Python object.
Heck, you can even <code><a href="https://xkcd.com/353/">import antigravity</a></code>.</p>
</li>
<li>
<p>The relation between syntax and methods is clear and extendable to your own types.
If you want to be able to add your objects together as in <code>x + y</code>, just define <code>__add__(self, other)</code>.
Compare this to, say, Java, in which <code>+</code> may only be used on the primitive numeric types, e.g., even though <code>BigInteger</code> feels like a regular number, it must use <code>x.add(y)</code> because it is a &#8220;real&#8221; type.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_package_ecosystem"><a class="anchor" href="#_package_ecosystem"></a>Package ecosystem</h3>
<div class="paragraph">
<p>There is a Python package for everything.
As long as performance is not an issue, you will never need to leave the Python ecosystem.
The standard library is huge (a.k.a. &#8220;<a href="https://www.python.org/dev/peps/pep-0206/#batteries-included-philosophy">batteries</a> <a href="https://www.python.org/about/success/wordstream">included</a>&#8221;), so for simple scripts you likely don&#8217;t even need to install external packages.</p>
</div>
</div>
<div class="sect2">
<h3 id="_huge_community_and_wide_support"><a class="anchor" href="#_huge_community_and_wide_support"></a>Huge community and wide support</h3>
<div class="paragraph">
<p>Python has been around forever and has been used a ton.
On Stack Overflow, there are currently 1,756,625 questions with the <code><a href="https://stackoverflow.com/questions/tagged/python?tab=Newest">python</a></code> tag.
For comparison, there are 361,664 questions tagged with <code><a href="https://stackoverflow.com/questions/tagged/c?tab=Newest">C</a></code>, 731,016 tagged with <code><a href="https://stackoverflow.com/questions/tagged/c%2b%2b?tab=Newest">C++</a></code>, 1,787,947 tagged with <code><a href="https://stackoverflow.com/questions/tagged/java?tab=Newest">Java</a></code>, and 2,242,203 tagged with <code><a href="https://stackoverflow.com/questions/tagged/javascript?tab=Newest">JavaScript</a></code>.
If you have a Python question, chances are that it&#8217;s been asked and answered already.
In addition, it is nearly guaranteed that your editor/IDE has superb Python support.</p>
</div>
</div>
<div class="sect2">
<h3 id="_its_interpreted_and_has_a_repl"><a class="anchor" href="#_its_interpreted_and_has_a_repl"></a>It&#8217;s interpreted and has a REPL</h3>
<div class="paragraph">
<p>It&#8217;s very handy to be able to <span class="no-wrap">(re-)</span>evaluate code on the fly.
Combined with introspection, this lets you explore unfamiliar territory quickly.</p>
</div>
<div class="sidebarblock">
<div class="content">
Before I get into the next section, it&#8217;s important to recognize that from a technological standpoint, Python is amazing.
A language that&#8217;s easy to write, easy to reason about, and can call down to C when performance is important?
Without a doubt, it is one of the modern marvels of (software) engineering.
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_python_does_wrong"><a class="anchor" href="#_what_python_does_wrong"></a>What Python Does Wrong</h2>
<div class="sectionbody">
<div class="paragraph">
<p>But, for all the good ideas present in Python, many of which have percolated into the wider world of programming languages, it is saddled with too many bad ideas for me to continue using it.
Of course, practicality dictates that Python is not going anywhere anytime soon; it has been used in countless projects, and the principle of &#8220;if it ain&#8217;t broke, don&#8217;t fix it&#8221; holds.
But if you can avoid using Python for future work, you should.</p>
</div>
<div class="paragraph">
<p>Here is why.</p>
</div>
<div class="sect2">
<h3 id="_package_management"><a class="anchor" href="#_package_management"></a>Package management</h3>
<div class="paragraph">
<p>Pip, Python&#8217;s built-in <a href="https://packaging.python.org/guides/tool-recommendations/">package installer</a>, is notoriously fickle and confusing to use.
Common questions include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Should you use <code>pip install</code> or <code>python3 -m pip install</code>?</p>
</li>
<li>
<p>(When) should you use <code>sudo</code> with <code>pip</code>? How about the <code>--user</code> flag?</p>
</li>
<li>
<p>(When) is there a difference between <code>pip</code> and <code>pip3</code>?</p>
</li>
<li>
<p>How important is it to know about <code>setuptools</code>? <code>distutils</code>?</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In addition to installing packages, it is also important to be able to manage Python <a href="https://realpython.com/python-virtual-environments-a-primer/">virtual environments</a>.
Python&#8217;s official docs recommend that you use <code><a href="https://packaging.python.org/guides/installing-using-pip-and-virtual-environments/#creating-a-virtual-environment">virtualenv</a></code> for this, and if the Python ecosystem worked correctly, this would be the end of the story.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p>To add to the confusion, the name of the package is <code>virtualenv</code> if you&#8217;re on Python 3.2 or older, but <code>venv</code> in Python 3.3 and newer, and it comes bundled with Python 3.3 and newer, but for Python 3.2 or older you need to run <code class="code-allow-wrap">python3 -m pip install --user virtualenv</code>.
At least that answers two of the questions above!</p>
</div>
<div class="paragraph">
<p>To see the chaos that is the Python package management ecosystem, visit <a href="https://packaging.python.org/key_projects/">this page</a>.
Note that this only covers those tools that conform to the <a href="https://packaging.python.org/specifications/">PyPA specifications</a>!</p>
</div>
</div>
</div>
<div class="paragraph">
<p>In the void that Python has left, several third-party projects for managing packages and environments have been developed, each with their own pros, cons, and instructions. In general, they are not interoperable, so you have to pick one and hope it serves your needs. Below is a list of the most popular ones with descriptions taken from their home pages.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.conda.io/en/latest/">Conda</a></p>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Conda quickly installs, runs and updates packages and their dependencies.
Conda easily creates, saves, loads and switches between environments on your local computer.
It was created for Python programs, but it can package and distribute software for any language.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>One of the first Python package managers that really took off, especially among data scientists, it&#8217;s well-supported by third-party software such as IDEs.
It is completely separate from Python&#8217;s package ecosystem&#8201;&#8212;&#8201;it hosts packages in its own repository separate from <a href="https://pypi.org">PyPI</a>, the repo used by pip.
This means it tends not to have the more niche Python packages.
To add to the confusion, though, conda <em>can</em> use pip to install packages from PyPI packages, but installing from Conda&#8217;s repo is preferred.</p>
</div>
</li>
<li>
<p><a href="https://pipenv.pypa.io/en/latest/">Pipenv</a></p>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>Pipenv is a tool that aims to bring the best of all packaging worlds (bundler, composer, npm, cargo, yarn, etc.) to the Python world. Pipenv is primarily meant to provide users and developers of applications with an easy method to setup a working environment.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Rather than reinvent the wheel, Pipenv automates the use of Python&#8217;s builtin package management tools.</p>
</div>
</li>
<li>
<p><a href="https://pypi.org/project/virtualenvwrapper/">virtualenvwrapper</a></p>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>virtualenvwrapper is a set of extensions to Ian Bicking’s <a href="http://pypi.python.org/pypi/virtualenv">virtualenv</a> tool.
The extensions include wrappers for creating and deleting virtual environments and otherwise managing your development workflow, making it easier to work on more than one project at a time without introducing conflicts in their dependencies.</p>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>For some reason <code>virtualenv</code> needs a wrapper? Go figure.</p>
</div>
</li>
<li>
<p><a href="https://python-poetry.org/">Poetry</a></p>
<div class="quoteblock">
<blockquote>
<div class="hdlist table-row table-row-borders">
<table>
<tr>
<td class="hdlist1">
Develop
</td>
<td class="hdlist2">
<p>Poetry comes with all the tools you might need to manage your projects in a deterministic way.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Build
</td>
<td class="hdlist2">
<p>Easily <strong>build</strong> and <strong>package</strong> your projects with a single command.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Publish
</td>
<td class="hdlist2">
<p>Make your work known by <strong>publishing</strong> it to PyPI.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Track
</td>
<td class="hdlist2">
<p>Having an insight of your project&#8217;s dependencies is just one command away.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Dependency resolver
</td>
<td class="hdlist2">
<p>Poetry comes with an <strong>exhaustive</strong> dependency resolver, which will always find a <strong>solution</strong> if it exists.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Isolation
</td>
<td class="hdlist2">
<p>Poetry either uses your configured virtualenvs or creates its own to always be <strong>isolated</strong> from your system.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
Intuitive CLI
</td>
<td class="hdlist2">
<p>Poetry&#8217;s commands are <strong>intuitive</strong> and easy to use, with sensible defaults while still being configurable.</p>
</td>
</tr>
</table>
</div>
</blockquote>
</div>
<div class="paragraph">
<p>Before I swore off Python, this was the package manager I used (after getting tired of Conda&#8217;s dependency solver taking ages to finish).
It worked great, although it took some finagling to get it to work with VS Code.
That&#8217;s one of the issues with having a million tools that do the same thing&#8201;&#8212;&#8201;whether the tool you want to use will be well-supported by others is a matter of luck.</p>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Evidently, Python has not done a good enough job at package management to stave off competing projects.
While Python cannot be blamed for not getting package and environment management correct at the outset, it very much <em>can</em> be blamed for letting it get to this point and continuing to drop the ball on this front.
Compare this to <a href="https://www.rust-lang.org">Rust</a>, which has a single package and environment manager, <a href="https://doc.rust-lang.org/cargo/index.html">Cargo</a>, which is so good that nobody has bothered trying to make a better one. Java has two or three predominant package managers, Ruby has a single one,</p>
</div>
<div class="paragraph">
<p>I&#8217;ll wrap up this section with a quote from Python&#8217;s <a href="https://packaging.python.org/overview/#packaging-applications">own docs</a>:</p>
</div>
<div class="quoteblock">
<blockquote>
Packaging in Python has a bit of a reputation for being a bumpy ride.
This impression is mostly a byproduct of Python’s versatility.
Once you understand the natural boundaries between each packaging solution, you begin to realize that the varied landscape is a small price Python programmers pay for using one of the most balanced, flexible languages available.
</blockquote>
</div>
<div class="paragraph">
<p>I don&#8217;t know, I&#8217;m not buying it.</p>
</div>
</div>
<div class="sect2">
<h3 id="_python_breaks_its_own_rules"><a class="anchor" href="#_python_breaks_its_own_rules"></a>Python breaks its own rules.</h3>
<div class="paragraph">
<p>Python has two style guides: <a href="https://www.python.org/dev/peps/pep-0008/">PEP 8&#8201;&#8212;&#8201;Style Guide for Python Code</a>, which deals with stylistic choices when literally writing code, and <a href="https://www.python.org/dev/peps/pep-0020/">PEP 20&#8201;&#8212;&#8201;The Zen of Python</a>, which deals with how best to design an entire program, predominantly from a logic standpoint.
Together, these form <em>the</em> definitive guide to how best use Python to accomplish one&#8217;s goals while maintaining consistency with the greater Python ecosystem.</p>
</div>
<div class="paragraph">
<p>Here is the text of PEP 20, which you can print in a Python REPL with <code>import this</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>The Zen of Python, by Tim Peters

Beautiful is better than ugly.
Explicit is better than implicit.
Simple is better than complex.
Complex is better than complicated.
Flat is better than nested.
Sparse is better than dense.
Readability counts.
Special cases aren't special enough to break the rules.
Although practicality beats purity.
Errors should never pass silently.
Unless explicitly silenced.
In the face of ambiguity, refuse the temptation to guess.
There should be one-- and preferably only one --obvious way to do it.
Although that way may not be obvious at first unless you're Dutch.
Now is better than never.
Although never is often better than *right* now.
If the implementation is hard to explain, it's a bad idea.
If the implementation is easy to explain, it may be a good idea.
Namespaces are one honking great idea -- let's do more of those!</pre>
</div>
</div>
<div class="paragraph">
<p>In theory, these principles are great.
In practice, Python breaks most of them and encourages you to do the same.
&#8220;Pythonic&#8221; code is not necessarily code that is easy to read.
Contrary to the notion that Python is beginner-friendly, understanding Pythonic code often requires familiarity with both Python and the codebase you&#8217;re reading.
What follows are several examples of these issues.</p>
</div>
<div class="sect3">
<h4 id="_names"><a class="anchor" href="#_names"></a>Names</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Function names</dt>
<dd>
<p><a href="https://www.python.org/dev/peps/pep-0008/#function-and-variable-names">According to PEP 8</a>, &#8220;Function [and variable and method] names should be lowercase, with words separated by underscores as necessary to improve readability. Variable names follow the same convention as function names.&#8221;
Yet <em>several</em> of Python&#8217;s built-in function names do not separate words with underscores: <code>isinstance</code>, <code>classmethod</code>/<code>staticmethod</code>, <code>setattr</code>, and <code>str.startswith</code> come to mind.
Even as recently as version 3.9, Python introduced new methods that broke this rule, <code>str.removeprefix</code> and <code>str.removesuffix</code>.</p>
</dd>
<dt class="hdlist1">Class/type names</dt>
<dd>
<p><a href="https://www.python.org/dev/peps/pep-0008/#class-names">According to PEP 8</a>, &#8220;class names should normally use the CapWords convention.&#8221;
Of course, Python&#8217;s own built-in classes such as <code>int</code>, <code>float</code>, <code>str</code>, <code>list</code>, and <code>dict</code> are exempt from this.
The PEP says that &#8220;there is a separate convention for builtin names&#8221;; it makes no attempt to justify this decision.
Some classes that ship with the Python standard library, but which are not builtins, are written in all lowercase while others are written as CapWords, such as <code>collections.namedtuple</code> and <code>collections.deque</code> and <code>collections.Counter</code> and <code>colletions.ChainMap</code>.</p>
</dd>
<dt class="hdlist1">Constant names</dt>
<dd>
<p><a href="https://www.python.org/dev/peps/pep-0008/#constants">According to PEP 8</a>, &#8220;Constants are usually defined on a module level and written in all capital letters with underscores separating words. Examples include <code>MAX_OVERFLOW</code> and <code>TOTAL</code>.&#8221;
Not only do <code>True</code>, <code>False</code>, and <code>None</code> break this rule, but they&#8217;re written in CapWords, the style of class names instead of the more sensible all lowercase, the style of variable names.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="_explicit_is_better_than_implicit"><a class="anchor" href="#_explicit_is_better_than_implicit"></a>&#8220;Explicit is better than implicit&#8221;</h4>
<div class="paragraph">
<p>Yet Python <a href="https://www.python.org/dev/peps/pep-0008/#programming-recommendations">encourages</a> you to &#8220;use the fact that empty sequences are false&#8221;:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python"># Correct:
if not seq:
if seq:

# Wrong:
if len(seq):
if not len(seq):</code></pre>
</div>
</div>
<div class="paragraph">
<p>This doesn&#8217;t seem very explicit to me.
If I expect <code>seq</code> to be a sequence, then I should signal to other readers that that is my intention, as <code>if seq</code> would also treat <code>0</code> and <code>None</code> as false whereas <code>len(0)</code> and <code>len(None)</code> would both be both runtime errors.
Furthermore, treating non-Boolean values as Booleans is the height of implicitness; being explicit would mean typing <code>if len(seq) == 0</code>, <code>if x == 0</code>, <code>if x is None</code>, etc.
These all specify exactly the condition I am looking for in the most explicit way possible, yet their use is discouraged by Python&#8217;s own docs.</p>
</div>
<div class="paragraph">
<p>You are also encouraged to check if a variable is <code>None</code> with <code>if x is None</code> instead of <code>if x == None</code>.
Implicit in this is the knowledge that <code>NoneType</code> is a singleton type&#8201;&#8212;&#8201;that all instances of <code>NoneType</code> refer to the same object, called <code>None</code>, of which there is only one.
Checking for equality with <code>is</code> instead of <code>==</code> is almost always the wrong thing to do, yet here Python tells us it&#8217;s right, relying on implicit knowledge to justify that decision.</p>
</div>
<div class="paragraph">
<p>Another example of this is that <code>raise MyException</code> is legal, even though <code>MyException</code> is of type <code>type</code>, not <code>Exception</code>.
Why is this?
It&#8217;s because passing a type to <code>raise</code> will instantiate an instance of that type <a href="https://docs.python.org/3/reference/simple_stmts.html#the-raise-statement">by calling the type&#8217;s constructor with no arguments</a>.
Not very explicit, and all to save a pair of parentheses.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p>If the real motivation behind this decision is to be able to defer the instantiation of the exception until it is definitely needed in case the exception is expensive to construct, then one could ask why not allow any callable to be <code>raise</code>d&#8201;&#8212;&#8201;why must it be a (callable) subtype of <code>Exception</code>?
<code>lambda: MyException()</code> seems much more explicit to me.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_footguns"><a class="anchor" href="#_footguns"></a>Footguns</h4>
<div class="paragraph">
<p>PEP 20 (implicitly!) prohibits <a href="https://en.wiktionary.org/wiki/footgun">footguns</a>.</p>
</div>
<div class="paragraph">
<p>Consider the following code. What do you think it will print?</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-python hljs" data-lang="python">L = [(lambda: i) for i in range(5)]
print([f() for f in L])</code></pre>
</div>
</div>
<details>
<summary class="title">Click to reveal answer</summary>
<div class="content">
It will print <code>[4, 4, 4, 4, 4]</code>.
</div>
</details>
<div class="paragraph">
<p>The <code>i</code>s in the comprehension are captured by the <code>lambda</code>s, survive beyond the lifetime of the comprehension, and are only resolved when actually calling <code>f()</code>.
At that time, they all resolve to 4&#8201;&#8212;&#8201;even though the comprehension doesn&#8217;t exist anymore!
How many rules does <em>this</em> break?</p>
</div>
</div>
</div>
</div>
</div> 
</article>
  </div>
</main>
</div>
  <footer class="footer">
  <p>This page was built using <a href="https://antora.org" target="_blank">Antora</a> with a theme forked from the
    default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script id="site-script" src="../_/js/site.js" data-ui-root-path="../_"></script>
<script async src="../_/js/vendor/highlight.js"></script>
	<script src="../_/js/vendor/lunr.js"></script>
<script src="../_/js/search-ui.js" id="search-ui-script" data-site-root-path=".." data-snippet-length="100" data-stylesheet="../_/css/search.css"></script>
<script async src="../search-index.js"></script>
</body>

</html>
